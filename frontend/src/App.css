/* 1. THE INNER CONTENT (Default State) */
.react-flow__node-dynamicNode > div {
  /* This transition handles the "Oomph" when SELECTION happens */
  /* We use the spring curve here */
  transition: 
    transform 0.4s cubic-bezier(0.34, 1.56, 0.64, 1), 
    box-shadow 0.3s ease, 
    border-color 0.3s ease;
  
  will-change: transform;
}

/* 2. WHILE DRAGGING (Kill the lag) */
.react-flow__node.dragging > div {
  /* CRITICAL: Set transition to 0s so the node stays locked to your mouse.
     This removes the 'lag' feel. */
  transition: transform 0s !important; 
  cursor: grabbing;
}

/* 3. THE SELECTION "OOMPH" */
.react-flow__node-dynamicNode.selected > div {
  /* When you click, the 0.4s spring transition above kicks in */
  transform: scale(1.1) rotate(-1.5deg);
  border-color: #fb7185 !important;
  box-shadow: 0 10px 30px rgba(244, 63, 94, 0.3);
}

/* 4. EDGE PATH (Smooth but Responsive) */
.react-flow__edge-path {
  /* Same logic: transition 'd' (the path) only when NOT dragging, 
     or keep it very fast (0.05s) to hide jitter without feeling laggy. */
  transition: d 0.05s linear, stroke 0.3s ease;
}

.react-flow__edge.dragging .cotton-halo {
  display: none; /* Hide the heavy blur while moving */
}